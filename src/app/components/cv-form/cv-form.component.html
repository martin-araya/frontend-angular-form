<div class="min-h-screen flex items-center justify-center p-4 bg-custom-bg">
  <form [formGroup]="cvForm" (ngSubmit)="onSubmit()" class="w-full max-w-md bg-white p-8 rounded-lg shadow-md">
    <h2 class="text-2xl text-custom-text font-mono mb-6 text-center">Enviar CV</h2>

    <!-- Campo Nombre Completo -->
    <div class="mb-4">
      <label for="fullName" class="block text-custom-text font-mono mb-2">Nombre Completo</label>
      <input
        type="text"
        id="fullName"
        formControlName="fullName"
        class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-custom-text font-mono"
        >
        @if (showError('fullName')) {
          <p class="text-red-500 text-sm mt-1">{{ getErrorMessage('fullName') }}</p>
        }
    </div>

    <!-- Campo Email -->
    <div class="mb-4">
      <label for="email" class="block text-custom-text font-mono mb-2">Email</label>
      <input
        type="email"
        id="email"
        formControlName="email"
        class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-custom-text font-mono"
        >
        @if (showError('fullName')) {
          <p class="text-red-500 text-sm mt-1">{{ getErrorMessage('fullName') }}</p>
        }
    </div>

    <!-- Selector de Área -->
    <div class="mb-4">
      <label for="area" class="block text-custom-text font-mono mb-2">Área de Postulación</label>
      <select
        id="area"
        formControlName="area"
        class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-custom-text font-mono"
        >
        @if (showError('fullName')) {
          <p class="text-red-500 text-sm mt-1">{{ getErrorMessage('fullName') }}</p>
        }
        <option value="">Selecciona un área</option>
        <option *ngFor="let area of areas" [value]="area">
          {{area | titlecase}}
        </option>
      </select>
    </div>

    <!-- Campo para CV -->
    <div class="mb-6">
      <label for="cvFile" class="block text-custom-text font-mono mb-2">Adjuntar CV</label>
      <input
        type="file"
        id="cvFile"
        (change)="onFileSelect($event)"
        accept=".pdf,.doc,.docx"
        class="w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:border-custom-text font-mono"
      >
    </div>


    <!-- Botón de Envío -->
    <button
      type="submit"
      [disabled]="!cvForm.valid"
      class="w-full bg-custom-text text-white font-mono py-2 px-4 rounded hover:opacity-90 disabled:opacity-50"
    >
      Enviar CV
    </button>

    <div *ngIf="isLoading" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
      <div class="bg-white p-4 rounded">
        <p class="text-custom-text">Enviando CV...</p>
      </div>
    </div>

  </form>
</div>
